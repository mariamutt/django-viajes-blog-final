{% extends 'base.html' %}
{% load static %}

{% block title %}Inicio - Mi Blog de Viajes{% endblock %}

{% block content %}
<header class="text-center py-5 bg-light">
    <div class="container">
        <!-- Título principal -->
        <h1 class="display-3 text-primary mb-3">¡Bienvenido a Mi Blog de Viajes!</h1>
        <p class="lead text-secondary mb-5">
            Explora destinos increíbles, consejos de viaje y comparte tus propias aventuras.
        </p>
        
        <!-- Botones de Acción Centrales -->
        <div class="d-grid gap-3 d-sm-flex justify-content-sm-center">
            
            {# Botón principal para ver la lista de posts #}
            <a href="{% url 'travels:list' %}" class="btn btn-primary btn-lg px-4 me-sm-3">
                Ver todos los Posts <i class="fas fa-arrow-right ms-2"></i>
            </a>
            
            {% if not user.is_authenticated %}
                {# Botón para iniciar sesión/registrarse (solo visible si NO está autenticado) #}
                <a href="{% url 'accounts:login' %}" class="btn btn-outline-secondary btn-lg px-4">
                    Iniciar Sesión / Registrarse
                </a>
            {% endif %}
        </div>
    </div>
</header>

<section class="py-5">
    <div class="container">
        <div class="row text-center g-4">
            
            <!-- 1. Nuevos Destinos (Ver Posts) -->
            <div class="col-md-4">
                <a href="{% url 'travels:list' %}" class="text-decoration-none text-dark feature-box">
                    <i class="fas fa-plane fa-3x text-info mb-3"></i>
                    <h2 class="h4 fw-bold">Nuevos Destinos</h2>
                    <p class="text-muted">Encuentra inspiración para tu próxima escapada. Desde playas remotas hasta ciudades vibrantes.</p>
                </a>
            </div>

            <!-- 2. Comparte tu Historia (Crear Post) -->
            <div class="col-md-4">
                {% if user.is_authenticated %}
                    {# Si el usuario está logeado, lo enviamos a crear un post #}
                    <!-- LÍNEA CORREGIDA: Cambiado 'travels:post_create' a 'travels:create' -->
                    <a href="{% url 'travels:create' %}" class="text-decoration-none text-dark feature-box">
                        <i class="fas fa-camera fa-3x text-warning mb-3"></i>
                        <h2 class="h4 fw-bold">Comparte tu Historia</h2>
                        <p class="text-muted">Sube tus fotos y escribe sobre tus experiencias. Conviértete en un autor del blog.</p>
                    </a>
                {% else %}
                    {# Si NO está logeado, lo invitamos a iniciar sesión para crear #}
                    <a href="{% url 'accounts:login' %}" class="text-decoration-none text-dark feature-box">
                        <i class="fas fa-camera fa-3x text-warning mb-3"></i>
                        <h2 class="h4 fw-bold">Comparte tu Historia</h2>
                        <p class="text-muted">¡Inicia sesión para subir tus fotos y escribir sobre tus experiencias!</p>
                    </a>
                {% endif %}
            </div>

            <!-- 3. Únete a la Comunidad (Registro/Perfil) -->
            <div class="col-md-4">
                {% if not user.is_authenticated %}
                    {# Si NO está logeado, lo enviamos a registrarse #}
                    <a href="{% url 'accounts:signup' %}" class="text-decoration-none text-dark feature-box">
                        <i class="fas fa-users fa-3x text-success mb-3"></i>
                        <h2 class="h4 fw-bold">Únete a la Comunidad</h2>
                        <p class="text-muted">Conéctate con otros viajeros y recibe consejos exclusivos en la sección de comentarios.</p>
                    </a>
                {% else %}
                    {# Si está logeado, podemos redirigirlo a su perfil. Asumo que tienes una URL 'accounts:profile' #}
                    <a href="{% url 'accounts:profile' %}" class="text-decoration-none text-dark feature-box">
                        <i class="fas fa-user-circle fa-3x text-success mb-3"></i>
                        <h2 class="h4 fw-bold">Mi Perfil</h2>
                        <p class="text-muted">Administra tu cuenta y mira tus contribuciones al blog.</p>
                    </a>
                {% endif %}
            </div>
            
        </div>
    </div>
</section>

{% endblock %}